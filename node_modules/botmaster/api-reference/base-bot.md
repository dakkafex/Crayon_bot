<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [BaseBot](#basebot)
    -   [constructor](#constructor)
    -   [sendMessage](#sendmessage)
    -   [sendMessageTo](#sendmessageto)
    -   [sendMessageTo](#sendmessageto-1)
    -   [sendMessageTo](#sendmessageto-2)
    -   [sendMessageTo](#sendmessageto-3)
    -   [sendTextMessageTo](#sendtextmessageto)
    -   [reply](#reply)
    -   [sendAttachmentTo](#sendattachmentto)
    -   [sendAttachmentFromUrlTo](#sendattachmentfromurlto)
    -   [sendDefaultButtonMessageTo](#senddefaultbuttonmessageto)
    -   [sendIsTypingMessageTo](#sendistypingmessageto)
    -   [sendCascade](#sendcascade)
    -   [sendTextCascadeTo](#sendtextcascadeto)
    -   [sendRawMessage](#sendrawmessage)
    -   [getUserInfo](#getuserinfo)
    -   [createOutgoingMessage](#createoutgoingmessage)
    -   [createOutgoingMessage](#createoutgoingmessage-1)
    -   [createOutgoingMessage](#createoutgoingmessage-2)
    -   [createOutgoingMessageFor](#createoutgoingmessagefor)
-   [OutgoingMessage](#outgoingmessage)
    -   [addRecipientById](#addrecipientbyid)
    -   [addRecipientByPhoneNumber](#addrecipientbyphonenumber)
    -   [removeRecipient](#removerecipient)
    -   [addText](#addtext)
    -   [removeText](#removetext)
    -   [addAttachment](#addattachment)
    -   [addAttachmentFromUrl](#addattachmentfromurl)
    -   [removeAttachment](#removeattachment)
    -   [addQuickReplies](#addquickreplies)
    -   [addPayloadLessQuickReplies](#addpayloadlessquickreplies)
    -   [addLocationQuickReply](#addlocationquickreply)
    -   [removeQuickReplies](#removequickreplies)
    -   [addSenderAction](#addsenderaction)
    -   [addTypingOnSenderAction](#addtypingonsenderaction)
    -   [addTypingOffSenderAction](#addtypingoffsenderaction)
    -   [addMarkSeenSenderAction](#addmarkseensenderaction)
    -   [removeSenderAction](#removesenderaction)

## BaseBot

**Extends EventEmitter**

The class from which all Bot classes mus inherit. It contains all the base
methods that are accessible via all bot classes. Classes that inherit from
BaseBot and want to make implementation specific methods available have to
prepend the method name with an underscore; e.g. in botmaster-messenger:
\_getGetStartedButton

### constructor

Constructor to the BaseBot class from which all the bot classes inherit.
A set a basic functionalities are defined here that have to be implemented
in the subclasses in order for them to work.

**Parameters**

-   `settings` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** inheritors of BaseBot take a settings
    object as first param.

**Examples**

```javascript
// In general however, one can instantiate a bot object like this:
const bot = new BaseBotSubClass({ // e.g. MessengerBot
  credentials: <my_base_bot_sub_class_credentials>,
  webhookEnpoint: 'someEndpoint' // only if class requires them
})
```

### sendMessage

sendMessage() falls back to the sendMessage implementation of whatever
subclass inherits form BaseBot. The expected format is normally any type of
message object that could be sent on to messenger

**Parameters**

-   `message` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `sendOptions` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** options used for sending the message. e.g. ignoreMiddleware

**Examples**

```javascript
// The returned promise for all sendMessage type events resolves with
// a body that looks something like this:
 {
  raw: rawBody, // can be undefined (e.g. if rawBody is directly returned)
  recipient_id: <id_of_user>,
  message_id: <message_id_of_what_was_just_sent>
  sentMessage: <sent_message_object>
 }

// Some platforms may not have either of these parameters. If that's the case,
// the value assigned will be null or some other suitable value as the
// equivalent to Messenger's seq in Telegram.
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### sendMessageTo

Bot class implementation of the \_\_sendMessage function. Each Bot class
has to implement this in order to be able to send outgoing messages.

**Parameters**

-   `message` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `recipientId`  
-   `sendOptions`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise that resolves in the body of the response from the platform\_\_sendMessage(rawUpdate) {}

### sendMessageTo

Bot class implementation of the \_\_formatOutgoingMessage function. Each Bot class
has to implement this in order to be able to send outgoing messages that start
off as valid Messenger message objects (i.e. OutgoingMessage objects).

**Parameters**

-   `outgoingMessage` **[OutgoingMessage](#outgoingmessage)** The outgoingMessage object that
    needs to be formatted to the platform standard (formatted out).
-   `message`  
-   `recipientId`  
-   `sendOptions`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise that resolves in the body of the response from the platform\_\_formatOutgoingMessage(outgoingMessage) {}

### sendMessageTo

Bot class implementation of the \_\_createStandardBodyResponseComponents
function. Each Bot class has to implement this in order to be able to
send outgoing messages using sendMessage. This function returns the standard
recipient_id and message_id we can expect from using sendMessage

**Parameters**

-   `sentOutgoingMessage` **[OutgoingMessage](#outgoingmessage)** The OutgoingMessage object
    before formatting
-   `sentRawMessage` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The raw message that was actually sent to
    the platform after \_\_formatOutgoingMessage was called
-   `rawPlatformBody` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** the raw body response from the platform
-   `message`  
-   `recipientId`  
-   `sendOptions`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise that resolves in an object that contains
both the recipient_id and message_id fields\_\_createStandardBodyResponseComponents(
  sentOutgoingMessage, sentRawMessage, rawPlatformBody) {}

### sendMessageTo

sendMessageTo() Just makes it easier to send a message without as much
structure.

**Parameters**

-   `message` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** NOT an instance of OutgoingMessage. Use
    \#sendMessage if you want to send instances of OutgoingMessage
-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** just options for sending.

**Examples**

```javascript
// message object can look something like this:

message: {
 text: 'Some random text'
}
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### sendTextMessageTo

sendTextMessageTo() Just makes it easier to send a text message with
minimal structure.

**Parameters**

-   `text` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** just options for sending.

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### reply

reply() Another way to easily send a text message. In this case,
we just send the update that came in as is and then the text we
want to send as a reply.

**Parameters**

-   `incomingUpdate` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `text` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** just options for sending.

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### sendAttachmentTo

sendAttachmentTo() makes it easier to send an attachment message with
less structure.

**Parameters**

-   `attachment` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** just options for sending.

**Examples**

```javascript
// attachment object typically looks something like this:

const attachment = {
  type: 'image',
  payload: {
    url: "some_valid_url_of_some_image"
  },
};
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### sendAttachmentFromUrlTo

sendAttachmentFromUrlTo() makes it easier to send an attachment message with
minimal structure.

**Parameters**

-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** just options for sending.

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### sendDefaultButtonMessageTo

sendDefaultButtonMessageTo() makes it easier to send a default set of
buttons. The default button type is the Messenger quick_replies, where
the payload is the same as the button title and the content_type is text.

**Parameters**

-   `buttonTitles` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** 
-   `textOrAttachment` **([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))** , if falsy, will be set to a
    default text of "Please select one of:"
-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### sendIsTypingMessageTo

sendIsTypingMessageTo() just sets the is typing status to the platform
if available.
based on the passed in update

i.e. it has no message_id (or it is null/undefined)

**Parameters**

-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sendOptions` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 

**Examples**

```javascript
// the returned value is different from the standard one. It looks something
//like this in this case:

{
  recipient_id: <id_of_user>
}
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### sendCascade

sendCascadeTo() allows developers to send a cascade of messages
in a sequence. All types of messages can be sent (including raw messages).

**Parameters**

-   `messageArray` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** of messages in a format as such:
    [{raw: someRawObject}, {message: some valid outgoingMessage}]
-   `sendOptions`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise
The returned value an in-place array of bodies received from the client platform
The objects of the array are of the same format as for standard messages

### sendTextCascadeTo

sendTextCascadeTo() is simply a helper function around sendCascadeTo.
It allows developers to send a cascade of text messages more easily.

**Parameters**

-   `textArray` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** of messages in a format as such: ['message1', 'message2']
-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** just the id of the recipient to send the messages to.
-   `sendOptions`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise
The returned value an in-place array of bodies received from the client platform
The objects of the array are of the same format as for standard messages

### sendRawMessage

sendRawMessage() simply sends a raw platform dependent message. This method
calls **sendMessage in each botClass without calling formatOutgoingMessage
before. It's really just sugar around **sendMessage which shouldn't be used
directly.

**Parameters**

-   `rawMessage` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise

### getUserInfo

Retrieves the basic user info from a user if platform supports it

**Parameters**

-   `userId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** promise that resolves into the user info or an empty
object by default

### createOutgoingMessage

sets up the app if needed.
As in sets up the endpoints that the bot can get called onto
see code in bot classes packages to see examples of this in action
Should not return anything

\_\_createMountPoints() {}

**Parameters**

-   `message`  

### createOutgoingMessage

Format the update gotten from the bot source (telegram, messenger etc..).
Returns an update in a standard format

**Parameters**

-   `rawUpdate` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `message`  

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** update\_\_formatUpdate(rawUpdate) {}

### createOutgoingMessage

\#createOutgoingMessage exposes the OutgoingMessage constructor
via BaseBot. This simply means one can create their own
OutgoingMessage object using any bot object. They can then compose
it with all its helper functions

**Parameters**

-   `message` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** base object that the outgoing Message should be based on

Returns **[OutgoingMessage](#outgoingmessage)** outgoingMessage. The same object passed in with
all the helper functions from OutgoingMessage

### createOutgoingMessageFor

same as #createOutgoingMessage, creates empty outgoingMessage with
id of the recipient set. Again, this is jut sugar syntax for creating a
new outgoingMessage object

**Parameters**

-   `recipientId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** id of the recipient the message is for

Returns **[OutgoingMessage](#outgoingmessage)** outgoingMessage. A valid OutgoingMessage object with recipient set.

## OutgoingMessage

This class will help you compose sendable message objects.

### addRecipientById

Adds recipient.id param to the OutgoingMessage object. This is most
likely what you will want to do to add a recipient. Alternatively, you Can
use addRecipientByPhoneNumber if the platform you are sending the message to
supports that.

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the id to add to the OutgoingMessage object

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addRecipientByPhoneNumber

Adds recipient.phone_number param to the OutgoingMessage object.
You might prefer to add a recipient by id rather. This is achieved via
addRecipientById

**Parameters**

-   `phoneNumber` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the phone number to add to the OutgoingMessage object

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### removeRecipient

removes the recipient param from the OutgoingMessage object.
This will remove the object wether it was set with a phone number or an id

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addText

Adds message.text to the OutgoingMessage

**Parameters**

-   `text` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the text to add to the OutgoingMessage object

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### removeText

Removes the message.text param from the OutgoingMessage object.

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addAttachment

Adds message.attachment to the OutgoingMessage. If you want to add
an attachment simply from a type and a url, have a look at:
addAttachmentFromUrl

**Parameters**

-   `attachment` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** valid messenger type attachment that can be
    formatted by the platforms your bot uses

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addAttachmentFromUrl

Adds message.attachment from a type and url without requiring you to
provide the whole attachment object. If you want to add an attachment using
a full object, use addAttachment.

**Parameters**

-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the attachment type (audio, video, image, file)
-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the url of the attachment.

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### removeAttachment

Removes message.attachment param from the OutgoingMessage object.

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addQuickReplies

Adds message.quick_replies to the OutgoinMessage object. Use
addPayloadLessQuickReplies if you just want to add quick replies from an
array of titles

**Parameters**

-   `quickReplies` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** The quick replies objects to add to the
    OutgoingMessage

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addPayloadLessQuickReplies

Adds message.quick_replies to the OutgoinMessage object from a simple array
of quick replies titles.Use addQuickReplies if want to add quick replies
from an quick reply objects

**Parameters**

-   `quickRepliesTitles` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** The titles of the quick replies objects to add to the
    OutgoingMessage

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addLocationQuickReply

Adds a content_type: location message.quick_replies to the OutgoingMessage.
Use this if the platform the bot class you are using is based on supports
asking for the location to its users.

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### removeQuickReplies

Removes message.quick_replies param from the OutgoingMessage object.

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addSenderAction

Adds an arbitrary sender_action to the OutgoinMessage

**Parameters**

-   `senderAction` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Arbitrary sender action
    (typing_on, typing_off or mark_seens)

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addTypingOnSenderAction

Adds "typing_on" sender_action to the OutgoinMessage

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addTypingOffSenderAction

Adds "typing_off" sender_action to the OutgoinMessage

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### addMarkSeenSenderAction

Adds "mark_seen" sender_action to the OutgoinMessage

Returns **OutgoinMessage** returns this object to allow for chaining of methods.

### removeSenderAction

Removes sender_action param from the OutgoingMessage object.

Returns **OutgoinMessage** returns this object to allow for chaining of methods.
